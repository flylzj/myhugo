---
title: "云存储数据。"
date: 2023-05-15T16:16:40+08:00
draft: false
---
## 云存储数据。
攻击者可能会从未正确加密的云存储中获取数据。

诸如Amazon S3、Azure Storage和Google Cloud Storage之类的许多云服务提供商都提供了在线数据对象存储的解决方案。这些解决方案与其他存储解决方案（如SQL或Elasticsearch）不同，因为没有一个综合的应用程序。可以直接使用云提供商的API检索这些解决方案中的数据。

在其他情况下，SaaS应用程序提供商（如Slack、Confluence和Salesforce）也提供云存储解决方案作为其平台的周边用例。这些云对象可以直接从其关联应用程序中提取。

攻击者可能会从这些云存储解决方案中收集敏感数据。提供商通常提供安全指南以帮助最终用户配置系统，但配置错误是常见的问题。不过有很多例子表明，云存储经常未被正确加密，通常是因为无意中将其公开访问，允许所有用户过度广泛地访问，或者甚至是对身份访问管理系统之外的任何匿名人员进行访问，甚至不需要基本用户权限。这种开放访问可能会暴露各种类型的敏感数据，例如信用卡、个人身份信息或医疗记录。攻击者还可能从源代码库、日志或其他途径获取泄露的凭据，以获取访问云存储对象的方式。

### 操作示例

|ID|名称|描述|
|----|----|----|
|[G0117]()|Fox Kitten|Fox Kitten已经从受害者的云存储实例中获取了文件。|
|[S0683]()|Peirates|Peirates可以导出AWS S3存储桶的内容。它还可以从谷歌云存储或S3中的kOps存储桶中检索服务帐户令牌。|

### 缓解措施

|  ID   | 缓解措施  | 描述|
|  ----  | ----  |----|
|[M1047]()|审计|经常检查云存储的权限设置，以确保权限设置妥当，拒绝未经授权的访问或开放式访问云资源。|
|[M1041]()|加密敏感信息|将云存储中储存的数据进行加密。大多数服务提供商可以轮换管理加密密钥。至少需要制定一份事件响应计划以应对存储违规，其中包括轮换密钥并测试对客户应用程序的影响。|
|[M1037]()|过滤网络流量|云服务提供商在访问云资源时支持基于IP的限制。考虑与用户账户管理一起使用IP allowlisting，以确保数据访问不仅仅限于有效用户，而且仅限于预期的IP范围，以减轻攻击者利用盗窃的凭证访问数据的风险。|
|[M1032]()|多因素认证|考虑使用多因素身份验证来限制对资源和云存储 API 的访问。|
|[M1022]()|限制文件和目录的权限|在存储系统和对象上使用访问控制列表。|
|[M1018]()|用户账户管理|配置用户权限组和角色，以便访问云存储。实施严格的身份验证和访问管理（IAM）控制措施，以防止除了需要访问存储解决方案的应用程序、用户和服务之外的其他实体访问。确保颁发临时访问令牌而不是永久凭据，特别是当访问被授予内部安全边界之外的实体时。|

### 检测

|  ID   | 数据源  | 数据组件|检测|
|  ----  | ----  |----|----|
|[DS0010]()|云存储|云存储访问|监视云服务提供商存储服务的异常查询行为。来自意外来源的行动可能表明权限设置不当，允许对数据进行访问。 此外，检测到用户对某个对象的尝试失败，随后由同一个用户通过权限提升获得对同一对象的访问权可能表明存在可疑活动。|

